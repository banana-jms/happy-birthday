<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy Birthday, Istriku üíú</title>
  <style>
    body {
      font-family: 'Courier New', Courier, monospace;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      min-height: 100vh;
      background-color: #ee9ca7;
      margin: 0;
      text-align: center;
      padding-inline: 20px;
      padding-top: 20px;
      padding-bottom: 60px;
      overflow-x: hidden;
    }

    .love {
      position: fixed;
      top: -20px;
      font-size: 20px;
      color: red;
      animation: fall linear forwards;
      z-index: 0;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }

    .story-frame {
      width: auto;
      max-width: 400px;
      margin: 20px auto;
      background-color: #FFDBDB;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      display: none;
      overflow: hidden;
      z-index: 1;
    }

    .story-header {
      color: black;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .story-image {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 15px;
    }

    .fade-in {
      animation: fadeIn 2s ease-out forwards;
      opacity: 0;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to   { opacity: 1; }
    }

    .story-text {
      font-size: 18px;
      color: black;
      word-wrap: break-word;
      white-space: pre-wrap;
      margin-top: 15px;
    }

    .next-btn, .the-end-btn {
      background-color: #CF0F47;
      color: white ;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 20px;
      display: inline-block;
    }

    .next-btn:hover, .the-end-btn:hover {
      background-color: #4A102A;
    }

    #start-btn {
      background-color: #CF0F47;
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 18px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 20px;
      display: none; /* hidden saat awal */
    }

    #start-btn:hover {
      background-color: #4A102A;
    }

    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 10px 0;
      text-align: center;
      background-color: #ffffff;
      color: #888;
      font-size: 14px;
      border-top: 1px solid #ccc;
      z-index: 2;
    }

    /* Modal Responsive */
    #volumeModal {
      position: fixed;
      z-index: 999;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
      text-align: center;
      padding: 40px 20px;
      box-sizing: border-box;
    }

    #volumeModal h2 {
      font-size: 20px;
      line-height: 1.5;
      margin-bottom: 20px;
      max-width: 90%;
      word-break: break-word;
    }

    #volumeModal button {
      background-color: #CF0F47;
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 5px;
      font-size: 18px;
      cursor: pointer;
    }

    #volumeModal button:hover {
      background-color: #4A102A;
    }

    /* Tombol Ulangi Lagu */
    #replay-btn {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 1000;
      background: rgba(255, 255, 255, 0.8);
      border: none;
      border-radius: 50%;
      padding: 10px;
      cursor: pointer;
      font-size: 16px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
  </style>
</head>
<body>

  <!-- Modal -->
  <div id="volumeModal">
    <h2>Mama.. volumenya naikin dulu ya sebelum mulai üéµ</h2>
    <button onclick="closeModal()">Okeey</button>
  </div>

  <!-- Tombol Mulai -->
  <button id="start-btn" onclick="startStory()">Mulai</button>

  <!-- Cerita -->
  <div class="story-frame" id="frame1">
    <div class="story-header">Mama Hebat!</div>
    <img class="story-image" src="1.jpg" alt="Story Image 1">
    <div class="story-text fade-in" id="text1"></div>
    <button class="next-btn" id="nextBtn1" onclick="nextFrame(2)">Next</button>
  </div>

  <div class="story-frame" id="frame2">
    <div class="story-header">Mama dan Istri Terbaik</div>
    <img class="story-image" src="2.jpg" alt="Story Image 2">
    <div class="story-text fade-in" id="text2"></div>
    <button class="next-btn" id="nextBtn2" onclick="nextFrame(3)">Next</button>
  </div>

  <div class="story-frame" id="frame3">
    <div class="story-header">Terima Kasih</div>
    <img class="story-image" src="3.jpg" alt="Story Image 3">
    <div class="story-text fade-in" id="text3"></div>
    <button class="next-btn" id="nextBtn3" onclick="nextFrame(4)">Next</button>
  </div>

  <div class="story-frame" id="frame4">
    <div class="story-header">Mama, Super Woman!</div>
    <img class="story-image" src="4.jpg" alt="Story Image 4">
    <div class="story-text fade-in" id="text4"></div>
    <button class="next-btn" id="nextBtn4" onclick="nextFrame(5)">Next</button>
  </div>

  <div class="story-frame" id="frame5">
    <div class="story-header">Sumber Cinta ‚ù§Ô∏è</div>
    <img class="story-image" src="HPW07775.JPG" alt="Story Image 5">
    <div class="story-text fade-in" id="text5"></div>
    <button class="the-end-btn" id="theEndBtn" onclick="endStory()">The End</button>
  </div>

  <!-- Footer -->
  <footer class="footer">
    &copy; 2025. dari Zia & Papa, untuk Mama.
  </footer>

  <!-- Audio dan Tombol Ulangi -->
  <audio id="bgm" src="somewhere only.mp3" preload="auto"></audio>
  <button id="replay-btn" onclick="replayMusic()" title="Ulangi Lagu">üîÅ</button>

  <!-- Script -->
  <script>
    const texts = [
      "Haaaai, Mama, wanita hebat yang mampu membuat semuanya berjalan lancar, bahkan kalau tiba-tiba ada drama masakan yang gagal! Papa bilang, Mama itu ibarat pahlawan tanpa jubah, cuma bedanya, Mama nggak pernah kelihatan lelah, meski sudah seharian merawat kita.",
      "Mama itu kayak superwoman, bisa jadi istri, mama Zia, sekaligus juru masak, dan masih sempat jadi teman curhat Papa yang nggak pernah bosen!",
      "Makasih, Mama, buat semuanya, kalau nggak ada Mama, mungkin papa sama Zia cuma bisa makan mie instan tiap hari üòÇ",
      "Tak ada yang bisa menggantikan kasih sayang Mama. Setiap detik yang kita habiskan bersama adalah momen yang tak ternilai.",
      "Selamat ulang tahun, Mama! Terima kasih telah menjadi sumber cinta dan kebahagiaan bagi kami, semoga Mama selalu diberikan kesehatan dan kebahagiaan"
    ];

    let currentTextIndex = 0;

    function showText(elementId, text, callback) {
      const element = document.getElementById(elementId);
      element.textContent = text;
      element.classList.add('fade-in');
      setTimeout(callback, 2500);
    }

    function nextFrame(nextFrameIndex) {
      const currentFrame = document.getElementById(`frame${currentTextIndex + 1}`);
      currentFrame.style.display = 'none';

      currentTextIndex = nextFrameIndex - 1;
      const nextFrame = document.getElementById(`frame${nextFrameIndex}`);
      nextFrame.style.display = 'block';

      showText(`text${nextFrameIndex}`, texts[currentTextIndex], () => {
        const nextBtn = document.getElementById(`nextBtn${nextFrameIndex}`) || document.getElementById('theEndBtn');
        if (nextBtn) nextBtn.style.display = 'inline-block';
      });
    }

    function endStory() {
      const bgm = document.getElementById('bgm');
      if (bgm) {
        bgm.pause();
        bgm.currentTime = 0;
      }
      window.location.href = "end.html";
    }

    function startStory() {
      document.getElementById('start-btn').style.display = 'none';
      const bgm = document.getElementById('bgm');
      if (bgm) {
        bgm.currentTime = 0;
        bgm.play().catch(e => {
          console.log("Autoplay error:", e);
        });
      }
      nextFrame(1);
    }

    function closeModal() {
      document.getElementById('volumeModal').style.display = 'none';
      document.getElementById('start-btn').style.display = 'inline-block';
    }

    function replayMusic() {
      const bgm = document.getElementById('bgm');
      if (bgm) {
        bgm.currentTime = 0;
        bgm.play().catch(e => {
          console.log("Replay gagal:", e);
        });
      }
    }

    function createLove() {
      const love = document.createElement('div');
      love.classList.add('love');
      love.style.left = Math.random() * window.innerWidth + 'px';
      love.style.animationDuration = (Math.random() * 2 + 3) + 's';
      love.textContent = '‚ù§Ô∏è';
      document.body.appendChild(love);

      setTimeout(() => {
        love.remove();
      }, 5000);
    }

    setInterval(createLove, 300);
  </script>
</body>
</html>
