<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy Birthday, Mama!/title>
  <style>
    body {
      font-family: 'Courier New', Courier, monospace;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      min-height: 100vh;
      background-color: #ee9ca7;
      margin: 0;
      text-align: center;
      padding-inline: 20px;
      padding-top: 20px;
      padding-bottom: 60px;
      overflow-x: hidden;
    }

    .love {
      position: fixed;
      top: -20px;
      font-size: 20px;
      color: red;
      animation: fall linear forwards;
      z-index: 0;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }

    .story-frame {
      width: auto;
      max-width: 400px;
      margin: 20px auto;
      background-color: #FFDBDB;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      display: none;
      overflow: hidden;
      z-index: 1;
    }

    .story-header {
      color: black;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .story-image {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 15px;
    }

    .fade-in {
      animation: fadeIn 2s ease-out forwards;
      opacity: 0;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to   { opacity: 1; }
    }

    .story-text {
      font-size: 18px;
      color: black;
      word-wrap: break-word;
      white-space: pre-wrap;
      margin-top: 15px;
    }

    .next-btn, .the-end-btn {
      background-color: #CF0F47;
      color: white ;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 20px;
      display: inline-block;
    }

    .next-btn:hover, .the-end-btn:hover {
      background-color: #4A102A;
    }

    #start-btn {
      background-color: #CF0F47;
      color: white;
      border: none;
      padding: 15px 30px;
      font-size: 18px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 20px;
    }

    #start-btn:hover {
      background-color: #4A102A;
    }

    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 10px 0;
      text-align: center;
      background-color: #ffffff;
      color: #888;
      font-size: 14px;
      border-top: 1px solid #ccc;
      z-index: 2;
    }

    /* Modal */
    #volumeModal {
      position: fixed;
      z-index: 999;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
      text-align: center;
      padding: 20px;
    }

    #volumeModal h2 {
      font-size: 24px;
      margin-bottom: 20px;
    }

    #volumeModal button {
      background-color: #CF0F47;
      color: white;
      border: none;
      padding: 10px 25px;
      border-radius: 5px;
      font-size: 18px;
      cursor: pointer;
    }

    #volumeModal button:hover {
      background-color: #4A102A;
    }

    /* Tombol Ulangi Lagu */
    #replay-btn {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 1000;
      background: rgba(255, 255, 255, 0.8);
      border: none;
      border-radius: 50%;
      padding: 10px;
      cursor: pointer;
      font-size: 16px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
  </style>
</head>
<body>

  <!-- Modal -->
  <div id="volumeModal">
    <h2>Mama.. volumenya naikin dulu ya sebelum mulai üéµ</h2>
    <button onclick="closeModal()">Okeey</button>
  </div>

  <!-- Tombol Mulai -->
  <button id="start-btn" onclick="startStory()">Mulai</button>

  <!-- Cerita -->
  <div class="story-frame" id="frame1">
    <div class="story-header">Once Upon a Time...</div>
    <img class="story-image" src="https://postimage.me/images/2025/05/24/WhatsApp-Image-2025-05-24-at-10.42.45-AM.jpeg" alt="Story Image 1">
    <div class="story-text fade-in" id="text1"></div>
    <button class="next-btn" id="nextBtn1" onclick="nextFrame(2)">Next</button>
  </div>

  <div class="story-frame" id="frame2">
    <div class="story-header">The Adventure Begins</div>
    <img class="story-image" src="https://postimage.me/images/2025/05/24/WhatsApp-Image-2025-05-24-at-10.41.40-AM.jpeg" alt="Story Image 2">
    <div class="story-text fade-in" id="text2"></div>
    <button class="next-btn" id="nextBtn2" onclick="nextFrame(3)">Next</button>
  </div>

  <div class="story-frame" id="frame3">
    <div class="story-header">The End of the Journey</div>
    <img class="story-image" src="https://postimage.me/images/2025/05/24/WhatsApp-Image-2025-05-24-at-10.42.45-AM.jpeg" alt="Story Image 3">
    <div class="story-text fade-in" id="text3"></div>
    <button class="the-end-btn" id="theEndBtn" onclick="endStory()">The End</button>
  </div>

  <!-- Footer -->
  <footer class="footer">
    &copy; 2025 Zia & Papa.
  </footer>

  <!-- Audio dan Tombol Ulangi -->
  <audio id="bgm" src="cant_fall_in_love.mp3" preload="auto"></audio>
  <button id="replay-btn" onclick="replayMusic()" title="Ulangi Lagu">üîÅ</button>

  <!-- Script -->
  <script>
    const texts = [
      "Selamat datang di rumah saya, rumah ini merupakan peninggalan sejarah.",
      "One day, a brave adventurer set out on a quest to discover the secrets hidden deep within the forest. The journey was difficult, but the adventurer was determined to succeed and uncover the mysteries of the wild.",
      "After many trials, the adventurer returned home, wiser and with stories to tell for generations. The village was never the same again, as the stories inspired many to venture into the unknown."
    ];

    let currentTextIndex = 0;

    function showText(elementId, text, callback) {
      const element = document.getElementById(elementId);
      element.textContent = text;
      element.classList.add('fade-in');
      setTimeout(callback, 2500);
    }

    function nextFrame(nextFrameIndex) {
      const currentFrame = document.getElementById(`frame${currentTextIndex + 1}`);
      currentFrame.style.display = 'none';

      currentTextIndex = nextFrameIndex - 1;
      const nextFrame = document.getElementById(`frame${nextFrameIndex}`);
      nextFrame.style.display = 'block';

      showText(`text${nextFrameIndex}`, texts[currentTextIndex], () => {
        const nextBtn = document.getElementById(`nextBtn${nextFrameIndex}`) || document.getElementById('theEndBtn');
        if (nextBtn) nextBtn.style.display = 'inline-block';
      });
    }

    function endStory() {
      const bgm = document.getElementById('bgm');
      if (bgm) {
        bgm.pause();
        bgm.currentTime = 0;
      }
      window.location.href = "end.html";
    }

    function startStory() {
      document.getElementById('start-btn').style.display = 'none';
      const bgm = document.getElementById('bgm');
      if (bgm) {
        bgm.currentTime = 0;
        bgm.play().catch(e => {
          console.log("Autoplay error:", e);
        });
      }
      nextFrame(1);
    }

    function closeModal() {
      document.getElementById('volumeModal').style.display = 'none';
    }

    function replayMusic() {
      const bgm = document.getElementById('bgm');
      if (bgm) {
        bgm.currentTime = 0;
        bgm.play().catch(e => {
          console.log("Replay gagal:", e);
        });
      }
    }

    function createLove() {
      const love = document.createElement('div');
      love.classList.add('love');
      love.style.left = Math.random() * window.innerWidth + 'px';
      love.style.animationDuration = (Math.random() * 2 + 3) + 's';
      love.textContent = '‚ù§Ô∏è';
      document.body.appendChild(love);

      setTimeout(() => {
        love.remove();
      }, 5000);
    }

    setInterval(createLove, 300);
  </script>
</body>
</html>
